<!DOCTYPE html>
<meta charset="utf-8" />
<style>
  .links line {
    stroke: #999;
    stroke-opacity: 0.6;
  }

  .nodes circle {
    stroke: #fff;
    stroke-width: 1.5px;
  }

  text {
    font-family: sans-serif;
    font-size: 10px;
  }
</style>
<svg width="960" height="600"></svg>
<script src="https://d3js.org/d3.v4.min.js"></script>
<script>
  var svg = d3.select("svg"),
    width = +svg.attr("width"),
    height = +svg.attr("height");

  var color = d3.scaleOrdinal(d3.schemeCategory20);

  var simulation = d3
    .forceSimulation()
    .force(
      "link",
      d3.forceLink().id(function(d) {
        return d.id;
      })
    )
    .force("charge", d3.forceManyBody())
    .force("center", d3.forceCenter(width / 2, height / 2));

  var graph = {
    nodes: [
      { id: "ciaramoynagh", sentiment: 2 },
      { id: "ciaramoynagh-0", sentiment: 0.9452532529830933 },
      { id: "ciaramoynagh-1", sentiment: 0.9258071184158325 },
      { id: "ciaramoynagh-2", sentiment: 0.9271344542503357 },
      { id: "ciaramoynagh-3", sentiment: 0.9258071184158325 },
      { id: "ciaramoynagh-4", sentiment: 0.5 },
      { id: "ciaramoynagh-5", sentiment: 0.7529575824737549 },
      { id: "ciaramoynagh-6", sentiment: 0.9393625259399414 },
      { id: "ciaramoynagh-7", sentiment: 0.9178533554077148 },
      { id: "ciaramoynagh-8", sentiment: 0.828342080116272 },
      { id: "ciaramoynagh-9", sentiment: 0.8537700772285461 },
      { id: "ciaramoynagh-10", sentiment: 0.25811970233917236 },
      { id: "ciaramoynagh-11", sentiment: 0.25811970233917236 },
      { id: "ciaramoynagh-12", sentiment: 0.7156102657318115 },
      { id: "ciaramoynagh-13", sentiment: 0.2542571425437927 },
      { id: "ciaramoynagh-14", sentiment: 0.7156102657318115 },
      { id: "ciaramoynagh-15", sentiment: 0.25811970233917236 },
      { id: "ciaramoynagh-16", sentiment: 0.5 },
      { id: "ciaramoynagh-17", sentiment: 0.25811970233917236 },
      { id: "ciaramoynagh-18", sentiment: 0.2568258047103882 },
      { id: "ciaramoynagh-19", sentiment: 0.7103793025016785 },
      { id: "ciaramoynagh-20", sentiment: 0.9977422952651978 },
      { id: "ciaramoynagh-21", sentiment: 0.9977422952651978 },
      { id: "ciaramoynagh-22", sentiment: 0.9032214879989624 },
      { id: "ciaramoynagh-23", sentiment: 0.9032214879989624 },
      { id: "ciaramoynagh-24", sentiment: 0.9603625535964966 },
      { id: "ciaramoynagh-25", sentiment: 0.9032214879989624 },
      { id: "ciaramoynagh-26", sentiment: 0.8235490322113037 },
      { id: "ciaramoynagh-27", sentiment: 0.9977422952651978 },
      { id: "ciaramoynagh-28", sentiment: 0.9032214879989624 },
      { id: "ciaramoynagh-29", sentiment: 0.8665577173233032 },
      { id: "ciaramoynagh-30", sentiment: 0.891839325428009 },
      { id: "ciaramoynagh-31", sentiment: 0.10920926928520203 },
      { id: "ciaramoynagh-32", sentiment: 0.1820998191833496 },
      { id: "ciaramoynagh-33", sentiment: 0.7503572702407837 },
      { id: "ciaramoynagh-34", sentiment: 0.8441715240478516 },
      { id: "ciaramoynagh-35", sentiment: 0.7503572702407837 },
      { id: "ciaramoynagh-36", sentiment: 0.8699436187744141 },
      { id: "ciaramoynagh-37", sentiment: 0.7526739239692688 },
      { id: "ciarancoady98", sentiment: 2 },
      { id: "ciarancoady98-0", sentiment: 0.9130760431289673 },
      { id: "ciarancoady98-1", sentiment: 0.1287628412246704 },
      { id: "ciarancoady98-2", sentiment: 0.8398971557617188 },
      { id: "ciarancoady98-3", sentiment: 0.935519814491272 },
      { id: "ciarancoady98-4", sentiment: 0.935519814491272 },
      { id: "ciarancoady98-5", sentiment: 0.9118810892105103 },
      { id: "ciarancoady98-6", sentiment: 0.06822523474693298 },
      { id: "ciarancoady98-7", sentiment: 0.7351557612419128 },
      { id: "ciarancoady98-8", sentiment: 0.20413923263549805 },
      { id: "ciarancoady98-9", sentiment: 0.8601781725883484 },
      { id: "ciarancoady98-10", sentiment: 0.5 },
      { id: "ciarancoady98-11", sentiment: 0.7416441440582275 },
      { id: "ciarancoady98-12", sentiment: 0.5 },
      { id: "ciarancoady98-13", sentiment: 0.5 },
      { id: "ciarancoady98-14", sentiment: 0.8370088934898376 },
      { id: "ciarancoady98-15", sentiment: 0.902759313583374 },
      { id: "ciarancoady98-16", sentiment: 0.8840545415878296 },
      { id: "ciarancoady98-17", sentiment: 0.815746009349823 },
      { id: "ciarancoady98-18", sentiment: 0.7637502551078796 },
      { id: "ciarancoady98-19", sentiment: 0.9483048915863037 },
      { id: "ciarancoady98-20", sentiment: 0.7400318384170532 },
      { id: "ciarancoady98-21", sentiment: 0.9489169120788574 },
      { id: "ciarancoady98-22", sentiment: 0.5 },
      { id: "ciarancoady98-23", sentiment: 0.8043336868286133 },
      { id: "ciarancoady98-24", sentiment: 0.8188291788101196 },
      { id: "ciarancoady98-25", sentiment: 0.9741401672363281 },
      { id: "ciarancoady98-26", sentiment: 0.8555247783660889 },
      { id: "ciarancoady98-27", sentiment: 0.9498662948608398 },
      { id: "ciarancoady98-28", sentiment: 0.25811970233917236 },
      { id: "ciarancoady98-29", sentiment: 0.25811970233917236 },
      { id: "ciarancoady98-30", sentiment: 0.8787668943405151 },
      { id: "ciarancoady98-31", sentiment: 0.9118297696113586 },
      { id: "ciarancoady98-32", sentiment: 0.9118297696113586 },
      { id: "ciarancoady98-33", sentiment: 0.9118297696113586 },
      { id: "ciarancoady98-34", sentiment: 0.9118297696113586 },
      { id: "ciarancoady98-35", sentiment: 0.9118297696113586 },
      { id: "ciarancoady98-36", sentiment: 0.9118297696113586 },
      { id: "ciarancoady98-37", sentiment: 0.9118297696113586 },
      { id: "ciarancoady98-38", sentiment: 0.9118297696113586 },
      { id: "ciarancoady98-39", sentiment: 0.9118297696113586 },
      { id: "ciarancoady98-40", sentiment: 0.7526739239692688 },
      { id: "ciarancoady98-41", sentiment: 0.9257230758666992 },
      { id: "ciarancoady98-42", sentiment: 0.9257230758666992 },
      { id: "ciarancoady98-43", sentiment: 0.9257230758666992 },
      { id: "ciarancoady98-44", sentiment: 0.9257230758666992 },
      { id: "ciarancoady98-45", sentiment: 0.9257230758666992 },
      { id: "ciarancoady98-46", sentiment: 0.9257230758666992 },
      { id: "ciarancoady98-47", sentiment: 0.9118297696113586 },
      { id: "ciarancoady98-48", sentiment: 0.7526739239692688 },
      { id: "ciarancoady98-49", sentiment: 0.9724545478820801 },
      { id: "ciarancoady98-50", sentiment: 0.7606416344642639 },
      { id: "ciarancoady98-51", sentiment: 0.5 },
      { id: "ciarancoady98-52", sentiment: 0.6993871331214905 },
      { id: "ciarancoady98-53", sentiment: 0.8417447209358215 },
      { id: "ciarancoady98-54", sentiment: 0.7961293458938599 },
      { id: "ciarancoady98-55", sentiment: 0.10890787839889526 },
      { id: "ciarancoady98-56", sentiment: 0.9148983955383301 },
      { id: "ciarancoady98-57", sentiment: 0.8737213611602783 },
      { id: "ciarancoady98-58", sentiment: 0.25680795311927795 },
      { id: "ciarancoady98-59", sentiment: 0.8610292673110962 }
    ],
    links: [
      { source: "ciaramoynagh", target: "ciaramoynagh-0", value: 1 },
      { source: "ciaramoynagh", target: "ciaramoynagh-1", value: 1 },
      { source: "ciaramoynagh", target: "ciaramoynagh-2", value: 1 },
      { source: "ciaramoynagh", target: "ciaramoynagh-3", value: 1 },
      { source: "ciaramoynagh", target: "ciaramoynagh-4", value: 1 },
      { source: "ciaramoynagh", target: "ciaramoynagh-5", value: 1 },
      { source: "ciaramoynagh", target: "ciaramoynagh-6", value: 1 },
      { source: "ciaramoynagh", target: "ciaramoynagh-7", value: 1 },
      { source: "ciaramoynagh", target: "ciaramoynagh-8", value: 1 },
      { source: "ciaramoynagh", target: "ciaramoynagh-9", value: 1 },
      { source: "ciaramoynagh", target: "ciaramoynagh-10", value: 1 },
      { source: "ciaramoynagh", target: "ciaramoynagh-11", value: 1 },
      { source: "ciaramoynagh", target: "ciaramoynagh-12", value: 1 },
      { source: "ciaramoynagh", target: "ciaramoynagh-13", value: 1 },
      { source: "ciaramoynagh", target: "ciaramoynagh-14", value: 1 },
      { source: "ciaramoynagh", target: "ciaramoynagh-15", value: 1 },
      { source: "ciaramoynagh", target: "ciaramoynagh-16", value: 1 },
      { source: "ciaramoynagh", target: "ciaramoynagh-17", value: 1 },
      { source: "ciaramoynagh", target: "ciaramoynagh-18", value: 1 },
      { source: "ciaramoynagh", target: "ciaramoynagh-19", value: 1 },
      { source: "ciaramoynagh", target: "ciaramoynagh-20", value: 1 },
      { source: "ciaramoynagh", target: "ciaramoynagh-21", value: 1 },
      { source: "ciaramoynagh", target: "ciaramoynagh-22", value: 1 },
      { source: "ciaramoynagh", target: "ciaramoynagh-23", value: 1 },
      { source: "ciaramoynagh", target: "ciaramoynagh-24", value: 1 },
      { source: "ciaramoynagh", target: "ciaramoynagh-25", value: 1 },
      { source: "ciaramoynagh", target: "ciaramoynagh-26", value: 1 },
      { source: "ciaramoynagh", target: "ciaramoynagh-27", value: 1 },
      { source: "ciaramoynagh", target: "ciaramoynagh-28", value: 1 },
      { source: "ciaramoynagh", target: "ciaramoynagh-29", value: 1 },
      { source: "ciaramoynagh", target: "ciaramoynagh-30", value: 1 },
      { source: "ciaramoynagh", target: "ciaramoynagh-31", value: 1 },
      { source: "ciaramoynagh", target: "ciaramoynagh-32", value: 1 },
      { source: "ciaramoynagh", target: "ciaramoynagh-33", value: 1 },
      { source: "ciaramoynagh", target: "ciaramoynagh-34", value: 1 },
      { source: "ciaramoynagh", target: "ciaramoynagh-35", value: 1 },
      { source: "ciaramoynagh", target: "ciaramoynagh-36", value: 1 },
      { source: "ciaramoynagh", target: "ciaramoynagh-37", value: 1 },
      { source: "ciarancoady98", target: "ciarancoady98-0", value: 1 },
      { source: "ciarancoady98", target: "ciarancoady98-1", value: 1 },
      { source: "ciarancoady98", target: "ciarancoady98-2", value: 1 },
      { source: "ciarancoady98", target: "ciarancoady98-3", value: 1 },
      { source: "ciarancoady98", target: "ciarancoady98-4", value: 1 },
      { source: "ciarancoady98", target: "ciarancoady98-5", value: 1 },
      { source: "ciarancoady98", target: "ciarancoady98-6", value: 1 },
      { source: "ciarancoady98", target: "ciarancoady98-7", value: 1 },
      { source: "ciarancoady98", target: "ciarancoady98-8", value: 1 },
      { source: "ciarancoady98", target: "ciarancoady98-9", value: 1 },
      { source: "ciarancoady98", target: "ciarancoady98-10", value: 1 },
      { source: "ciarancoady98", target: "ciarancoady98-11", value: 1 },
      { source: "ciarancoady98", target: "ciarancoady98-12", value: 1 },
      { source: "ciarancoady98", target: "ciarancoady98-13", value: 1 },
      { source: "ciarancoady98", target: "ciarancoady98-14", value: 1 },
      { source: "ciarancoady98", target: "ciarancoady98-15", value: 1 },
      { source: "ciarancoady98", target: "ciarancoady98-16", value: 1 },
      { source: "ciarancoady98", target: "ciarancoady98-17", value: 1 },
      { source: "ciarancoady98", target: "ciarancoady98-18", value: 1 },
      { source: "ciarancoady98", target: "ciarancoady98-19", value: 1 },
      { source: "ciarancoady98", target: "ciarancoady98-20", value: 1 },
      { source: "ciarancoady98", target: "ciarancoady98-21", value: 1 },
      { source: "ciarancoady98", target: "ciarancoady98-22", value: 1 },
      { source: "ciarancoady98", target: "ciarancoady98-23", value: 1 },
      { source: "ciarancoady98", target: "ciarancoady98-24", value: 1 },
      { source: "ciarancoady98", target: "ciarancoady98-25", value: 1 },
      { source: "ciarancoady98", target: "ciarancoady98-26", value: 1 },
      { source: "ciarancoady98", target: "ciarancoady98-27", value: 1 },
      { source: "ciarancoady98", target: "ciarancoady98-28", value: 1 },
      { source: "ciarancoady98", target: "ciarancoady98-29", value: 1 },
      { source: "ciarancoady98", target: "ciarancoady98-30", value: 1 },
      { source: "ciarancoady98", target: "ciarancoady98-31", value: 1 },
      { source: "ciarancoady98", target: "ciarancoady98-32", value: 1 },
      { source: "ciarancoady98", target: "ciarancoady98-33", value: 1 },
      { source: "ciarancoady98", target: "ciarancoady98-34", value: 1 },
      { source: "ciarancoady98", target: "ciarancoady98-35", value: 1 },
      { source: "ciarancoady98", target: "ciarancoady98-36", value: 1 },
      { source: "ciarancoady98", target: "ciarancoady98-37", value: 1 },
      { source: "ciarancoady98", target: "ciarancoady98-38", value: 1 },
      { source: "ciarancoady98", target: "ciarancoady98-39", value: 1 },
      { source: "ciarancoady98", target: "ciarancoady98-40", value: 1 },
      { source: "ciarancoady98", target: "ciarancoady98-41", value: 1 },
      { source: "ciarancoady98", target: "ciarancoady98-42", value: 1 },
      { source: "ciarancoady98", target: "ciarancoady98-43", value: 1 },
      { source: "ciarancoady98", target: "ciarancoady98-44", value: 1 },
      { source: "ciarancoady98", target: "ciarancoady98-45", value: 1 },
      { source: "ciarancoady98", target: "ciarancoady98-46", value: 1 },
      { source: "ciarancoady98", target: "ciarancoady98-47", value: 1 },
      { source: "ciarancoady98", target: "ciarancoady98-48", value: 1 },
      { source: "ciarancoady98", target: "ciarancoady98-49", value: 1 },
      { source: "ciarancoady98", target: "ciarancoady98-50", value: 1 },
      { source: "ciarancoady98", target: "ciarancoady98-51", value: 1 },
      { source: "ciarancoady98", target: "ciarancoady98-52", value: 1 },
      { source: "ciarancoady98", target: "ciarancoady98-53", value: 1 },
      { source: "ciarancoady98", target: "ciarancoady98-54", value: 1 },
      { source: "ciarancoady98", target: "ciarancoady98-55", value: 1 },
      { source: "ciarancoady98", target: "ciarancoady98-56", value: 1 },
      { source: "ciarancoady98", target: "ciarancoady98-57", value: 1 },
      { source: "ciarancoady98", target: "ciarancoady98-58", value: 1 },
      { source: "ciarancoady98", target: "ciarancoady98-59", value: 1 }
    ]
  };

  //d3.json(miserables, function (error, graph) {
  //if (error) throw error;

  var link = svg
    .append("g")
    .attr("class", "links")
    .selectAll("line")
    .data(graph.links)
    .enter()
    .append("line")
    .attr("stroke-width", function(d) {
      return Math.sqrt(d.value);
    });

  var node = svg
    .append("g")
    .attr("class", "nodes")
    .selectAll("g")
    .data(graph.nodes)
    .enter()
    .append("g");

  var circles = node
    .append("circle")
    .attr("r", 10)
    .attr("fill", function(d) {
      return color(d.type);
    })
    .call(
      d3
        .drag()
        .on("start", dragstarted)
        .on("drag", dragged)
        .on("end", dragended)
    );

  var lables = node
    .append("text")
    .text(function(d) {
      if (d.type == 1) return d.id;
      else return "";
    })
    .attr("x", 6)
    .attr("y", 3);

  node.append("title").text(function(d) {
    return d.id;
  });

  simulation.nodes(graph.nodes).on("tick", ticked);

  simulation.force("link").links(graph.links);

  function ticked() {
    link
      .attr("x1", function(d) {
        return d.source.x;
      })
      .attr("y1", function(d) {
        return d.source.y;
      })
      .attr("x2", function(d) {
        return d.target.x;
      })
      .attr("y2", function(d) {
        return d.target.y;
      });

    node.attr("transform", function(d) {
      return "translate(" + d.x + "," + d.y + ")";
    });
  }
  //});

  function dragstarted(d) {
    if (!d3.event.active) simulation.alphaTarget(0.3).restart();
    d.fx = d.x;
    d.fy = d.y;
  }

  function dragged(d) {
    d.fx = d3.event.x;
    d.fy = d3.event.y;
  }

  function dragended(d) {
    if (!d3.event.active) simulation.alphaTarget(0);
    d.fx = null;
    d.fy = null;
  }
</script>
